{% extends 'posts/base.html' %}
{% load static %}

{% block title %} - Upload{% endblock title %}

{% block user_container %}
<div class="upload-post">
  <h2 style="text-align: center; margin-bottom: 2rem; color: var(--color-gray-900);">Create New Post</h2>

  {% if message %}
  <div
    style="background: rgba(239, 68, 68, 0.1); color: var(--color-danger); padding: 1rem; border-radius: var(--radius-lg); margin-bottom: 1.5rem; border-left: 4px solid var(--color-danger);">
    {{ message }}
  </div>
  {% endif %}

  <form action="/upload" method="post" enctype="multipart/form-data">
    {% csrf_token %}

    <label for="inputImage" id="inputLabel">
      <div style="display: flex; flex-direction: column; align-items: center; gap: 1rem;">
        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
          <circle cx="8.5" cy="8.5" r="1.5"></circle>
          <polyline points="21 15 16 10 5 21"></polyline>
        </svg>
        <span>Click here to select an image</span>
        <span style="font-size: 0.875rem; color: var(--color-gray-500); font-weight: 400;">JPG, PNG or GIF (MAX.
          10MB)</span>
      </div>
    </label>

    <input type="file" id="inputImage" name="post_pics" accept="image/*" required />

    <div id="preview-image">
      <div id="placeholder">
        <div id="upload-area"></div>
      </div>

      <label for="post-caption" id="caption">Caption</label>
      <textarea id="post-caption" cols="30" rows="5" placeholder="Write a caption for your post..."
        name="caption"></textarea>
    </div>

    <button type="submit" class="btn-post">Share Post</button>
  </form>
</div>

<script src="{% static 'scripts/upload.js' %}"></script>
{% endblock %}